.TH "spmfilter.conf" "5" "20 May 2009" "" ""

.SH "NAME"
.P
spmfilter.conf - configuration file for spmfilter
.SH "SYNOPSIS"
.P
spmfilter.conf

.SH "DESCRIPTION"
.P
The \fBspmfilter.conf\fR file is the runtime configuration file for 
\fBspmfilter\fR(1).
.P
The \fBspmfilter.conf\fR file controls available modules, logging, header
checking and delivery options.

.SH "FILE FORMAT"
.P
The file consists of modules and parameters. A module begins with the
name of the module in square brackets and continues until the next
module begins. Modules contain parameters of the form \(lqname = value\(rq.
.P
The file is line-based \(em that is, each newline-terminated line represents
either a comment, a module name or a parameter.
.P
Only the first equals sign in a parameter is significant. Whitespace before
or after the first equals sign is discarded. Leading, trailing and internal
whitespace in module and parameter names is irrelevant. Leading and
trailing whitespace in a parameter value is discarded. Internal whitespace
within a parameter value is retained verbatim.
.P
Any line beginning with a hash (#) is ignored, as are lines containing
only whitespace.
.P
Any line ending in a \e is \(lqcontinued\(rq on the next line in the
customary UNIX fashion.
.P
The values following the equals sign in parameters are all either a string
(no quotes needed) or a boolean, which may be given as true/false. Case is 
not significant in boolean values, but is preserved in string values.

.SH "SECTIONS"
.SS "The [global] section"
.P
Parameters in this section are global and do not affect any modules.

.IP "\fBengine \fR" 
The "engine" option allows you to specify the spmfilter engine. It's
possible to switch the engine for receiving mails. At the moment, only
a smtpd engine is available, but it's possible to use a own engine
for e.g. lmtp.

.IP "\fBdebug\fR" 
Enables verbose debugging output. Debugging output will be written to
the configured syslog facility.

.IP "\fBmodules\fR"
Specifies all modules, which will be loaded at runtime. All modules
will be process in the same order, as listed. Modules names have to
be separated by a semicolon.

.IP "\fBnexthop\fR"
This parameter specifies the final destination, after a mail is processed
by spmfilter. The value can be a hostname or IP address, with a port number,
e.g. localhost:2525 to send filtered mails to localhost at port 2525.


.SS "The [header_checks] section"
.P
If a \fB[header_checks]\fR section occurs in the configuration file, spmfilter
will check all headers of a mail for a match. If a match is found, the 
value will be stored. A typical \fB[header_checks]\fR entry looks like this:

.nf
[header_checks]
example=X-Example
.fi

spmfilter will search for a header called 
\fBX-Example\fR
and the value is stored in the 
\fBheader_checks\fR
HashTable of the 
\fBMAILCONN\fR
structure.

.SH "EXAMPLE"
.P
What follows is a sample configuration file:

.nf
[global]
engine = smtpd
debug = true
modules=dkim;spam
nexthop = localhost:2525

[header_cheks]
example=X-Example
.fi 
 

The \fBglobal\fR section specifies that smtpd module should be used as engine; debugging is active;
the modules dkim and spam should be loaded; and filtered mails are delivered
to localhost port 2525.

.SH "FILES" 
.P
/etc/spmfilter\&.conf or spmfilter\&.conf
 
.SH "BUGS"
.P
Please report bugs! The spmfilter bug tracking system is available at
http://www.spmfilter.org

.SH "SEE ALSO" 
.P
spmfilter(1), spmfilter(3)

.SH "AUTHOR(s)" 
.P
spmfilter was written by Axel Steiner <ast@treibsand.com>

